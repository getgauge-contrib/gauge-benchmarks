#! /bin/bash

# This file is to be used to generate a Github Flavored Markdown comment to be pushed against the PR.

echo -e "### Benchmark Results\n\
$(find ./out -name '*.csv' -printf "echo '\n\`%f\`\n\n\`\`\`diff'; tail -3 docs/data/gauge/%f; printf +; cat %p; echo '\`\`\`'\n" | sh)\n\
### Notes\n\n\
- The results above are generated by running against seed projects in https://github.com/getgauge/gauge-benchmark\n\
- These results are not persisted, but on merging to master the benchmark will be rerun.\n\
- These benchmark are run in Github Actions' agents, which are virtualized. Results are not to be taken as actual benchmarks.\
Rather, these are indicative numbers and make sense for comparison."